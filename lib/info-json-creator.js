// Generated by CoffeeScript 1.10.0
(function() {
  var InfoJSONCreator, _;

  _ = require('lodash');

  InfoJSONCreator = (function() {
    function InfoJSONCreator(info, server_info) {
      var profile;
      this.info = info;
      this.server_info = server_info;
      this.info_json = _.cloneDeep(this.info);
      delete this.info_json['levels'];
      this.info_json['protocol'] = "http://iiif.io/api/image";
      profile = "http://iiif.io/api/image/2/level" + this.server_info.level + ".json";
      this.info_json['profile'] = [profile];
      this.info_json['@id'] = this.server_info.id;
      this.info_json["@context"] = "http://iiif.io/api/image/2/context.json";
      this.info_json;
    }

    return InfoJSONCreator;

  })();

  exports.InfoJSONCreator = InfoJSONCreator;

}).call(this);
